# 以下是可用的 template 字符串：
# - Output
# - Filestem
# - Filename
#     == Filestem + Ext

Unknown: &default
  filestem: main
  ext: "txt"
  output: a.out
  mco: false

Assembly:
  <<: *default
  ext: asm
  build:
    - nasm -f elf64 -o a.o {{.Filename}}
    - ld -o {{.Output}} a.o
  run: ./{{.Output}}

Bash:
  <<: *default
  ext: bash
  run: bash {{.Filename}}

C:
  <<: *default
  ext: c
  build:
    - gcc -lm -w -O3 -std=gnu17 {{.Filename}} -o {{.Output}}
  run: ./{{.Output}}

Cpp:
  <<: *default
  ext: cpp
  build:
    - g++ -lm -w -O3 -std=gnu++17 {{.Filename}} -o {{.Output}}
  run: ./{{.Output}}

CSharp:
  <<: *default
  ext: cs
  build:
    - mcs -out:a.exe {{.Filename}}
  run: mono a.exe

D:
  <<: *default
  ext: d
  build:
    - dmd -of={{.Output}} {{.Filename}}
  run: ./{{.Output}}

Go:
  <<: *default
  ext: go
  build:
    - go build -o {{.Output}} {{.Filename}}
  run: ./{{.Output}}

Haskell:
  <<: *default
  ext: hs
  run: runghc {{.Filename}}

Java:
  <<: *default
  ext: java
  mco: true
  filestem: Main
  build:
    - javac {{.Filename}}
  run: java {{.Filestem}}

JavaScript:
  <<: *default
  ext: js
  mco: true
  run: node {{.Filename}}

Julia:
  <<: *default
  ext: jl
  run: julia {{.Filename}}

Kotlin:
  <<: *default
  ext: kt
  filestem: Main
  build:
    - kotlinc {{.Filename}}
  run: kotlin {{.Filestem}}Kt

Lua:
  <<: *default
  ext: lua
  run: lua {{.Filename}}

Nim:
  <<: *default
  ext: nim
  run: nim --hints:off --verbosity:0 compile --run {{.Filename}}

Ocaml:
  <<: *default
  ext: ml
  build:
    - ocamlc -o {{.Output}} {{.Filename}}
  run: ./{{.Output}}

Perl:
  <<: *default
  ext: pl
  run: perl {{.Filename}}

Php:
  <<: *default
  ext: php
  run: php {{.Filename}}

Python:
  <<: *default
  ext: py
  mco: true
  run: python {{.Filename}}

Raku:
  <<: *default
  ext: raku
  run: raku {{.Filename}}

Ruby:
  <<: *default
  ext: rb
  run: ruby {{.Filename}}

Rust:
  <<: *default
  ext: rs
  build:
    - rustc -o {{.Output}} {{.Filename}}
  run: ./{{.Output}}

Scala:
  <<: *default
  ext: scala
  build:
    - scalac {{.Filename}}
  run: scala Main

Swift:
  <<: *default
  ext: swift
  build:
    - swiftc -o {{.Output}} {{.Filename}}
  run: ./{{.Output}}

TypeScript:
  <<: *default
  ext: ts
  mco: true
  build:
    - esbuild {{.Filename}} --outfile=a.js --platform=node --target=node14
  run: node a.js
